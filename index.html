<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Family Travel Map - Worldwide Family Destinations</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.css" />
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #2980b9 0%, #6bb6ff 50%, #00d4aa 100%);
            min-height: 100vh;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 1rem 2rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header h1 {
            color: #333;
            font-size: 1.8rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .header h1::before {
            content: "üåç";
            font-size: 2rem;
        }

        .container {
            display: flex;
            height: calc(100vh - 80px);
            gap: 1rem;
            padding: 1rem;
        }

        .sidebar {
            width: 320px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            overflow-y: auto;
        }

        .region-selector {
            margin-bottom: 2rem;
        }

        .region-selector h3 {
            color: #333;
            margin-bottom: 1rem;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .region-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            margin-bottom: 1rem;
        }

        .region-btn {
            padding: 10px 12px;
            border: 2px solid #ddd;
            background: white;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.85rem;
            color: #666;
            text-align: center;
        }

        .region-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .region-btn.active {
            background: linear-gradient(135deg, #2980b9, #00d4aa);
            color: white;
            border-color: transparent;
        }

        .filter-section {
            margin-bottom: 2rem;
        }

        .filter-section h3 {
            color: #333;
            margin-bottom: 1rem;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .filter-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .filter-btn {
            padding: 8px 16px;
            border: 2px solid #ddd;
            background: white;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            color: #666;
        }

        .filter-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .filter-btn.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-color: transparent;
        }

        .places-list {
            max-height: 400px;
            overflow-y: auto;
        }

        .place-card {
            background: white;
            border-radius: 12px;
            padding: 1rem;
            margin-bottom: 1rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            border-left: 4px solid #2980b9;
        }

        .place-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .place-card h4 {
            color: #333;
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }

        .place-location {
            color: #888;
            font-size: 0.8rem;
            margin-bottom: 0.5rem;
        }

        .place-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 4px;
            margin-bottom: 0.5rem;
        }

        .tag {
            background: #f0f0f0;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.7rem;
            color: #666;
        }

        .place-info {
            font-size: 0.8rem;
            color: #777;
        }

        .map-container {
            flex: 1;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
        }

        .map {
            width: 100%;
            height: 100%;
            border-radius: 15px;
            overflow: hidden;
        }

        /* Custom marker styles */
        .custom-marker {
            width: 35px;
            height: 35px;
            background: white;
            border: 3px solid #2980b9;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .custom-marker:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(0,0,0,0.4);
        }

        .custom-marker.theme-park { border-color: #e74c3c; }
        .custom-marker.zoo { border-color: #27ae60; }
        .custom-marker.museum { border-color: #3498db; }
        .custom-marker.beach { border-color: #16a085; }
        .custom-marker.nature { border-color: #2ecc71; }
        .custom-marker.city { border-color: #9b59b6; }
        .custom-marker.cultural { border-color: #f39c12; }
        .custom-marker.adventure { border-color: #e67e22; }

        .floating-info {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 1rem;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            max-width: 280px;
            z-index: 1000;
        }

        .stats-info {
            position: absolute;
            bottom: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 1rem;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            font-size: 0.9rem;
            color: #666;
            z-index: 1000;
        }

        @media (max-width: 768px) {
            .container {
                flex-direction: column;
                height: auto;
            }
            .sidebar {
                width: 100%;
                order: 2;
            }
            .map-container {
                height: 400px;
                order: 1;
            }
            .region-buttons {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <h1>Global Family Travel Map</h1>
    </header>

    <div class="container">
        <aside class="sidebar">
            <div class="region-selector">
                <h3>üåè Select Region</h3>
                <div class="region-buttons">
                    <button class="region-btn active" data-region="all">Worldwide</button>
                    <button class="region-btn" data-region="asia">Asia</button>
                    <button class="region-btn" data-region="europe">Europe</button>
                    <button class="region-btn" data-region="americas">Americas</button>
                    <button class="region-btn" data-region="oceania">Oceania</button>
                    <button class="region-btn" data-region="africa">Africa</button>
                </div>
            </div>

            <div class="filter-section">
                <h3>üéØ Category Filter</h3>
                <div class="filter-buttons">
                    <button class="filter-btn active" data-category="all">All</button>
                    <button class="filter-btn" data-category="theme-park">Theme Parks</button>
                    <button class="filter-btn" data-category="museum">Museums</button>
                    <button class="filter-btn" data-category="nature">Nature</button>
                    <button class="filter-btn" data-category="beach">Beaches</button>
                    <button class="filter-btn" data-category="cultural">Cultural</button>
                    <button class="filter-btn" data-category="adventure">Adventure</button>
                </div>
            </div>

            <div class="filter-section">
                <h3>üë∂ Age Group</h3>
                <div class="filter-buttons">
                    <button class="filter-btn active" data-age="all">All Ages</button>
                    <button class="filter-btn" data-age="infant">Toddlers (0-3)</button>
                    <button class="filter-btn" data-age="child">Children (4-12)</button>
                    <button class="filter-btn" data-age="teen">Teens (13-18)</button>
                </div>
            </div>

            <div class="places-list" id="placesList">
                <!-- Places will be dynamically generated here -->
            </div>
        </aside>

        <main class="map-container">
            <div class="map" id="map">
                <!-- Leaflet map will be loaded here -->
            </div>

            <div class="floating-info" id="floatingInfo" style="display: none;">
                <h4 id="infoTitle"></h4>
                <p id="infoLocation" style="color: #888; font-size: 0.9rem; margin-bottom: 8px;"></p>
                <p id="infoDescription"></p>
                <div id="infoTags"></div>
            </div>

            <div class="stats-info" id="statsInfo">
                <div>üó∫Ô∏è Visible Places: <span id="visiblePlaces">0</span></div>
                <div>üåç Active Region: <span id="activeRegion">Worldwide</span></div>
            </div>
        </main>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.js"></script>
    <script>
        // Initialize map (worldwide view)
        const map = L.map('map').setView([20, 0], 2);

        // Add OpenStreetMap tile layer
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '¬© OpenStreetMap contributors',
            maxZoom: 19
        }).addTo(map);

        // Global family travel destinations data
        const places = [
            // Asia
            {
                id: 'tokyo-disneyland',
                name: 'Tokyo Disneyland',
                city: 'Tokyo, Japan',
                region: 'asia',
                category: 'theme-park',
                ageGroup: ['infant', 'child', 'teen'],
                description: 'Magical Disney experience with unique Japanese charm in one of the world\'s most beloved theme parks',
                tags: ['Disney', 'Theme Park', 'Family Fun', 'Characters'],
                rating: 4.8,
                lat: 35.6329, lng: 139.8804, icon: 'üè∞'
            },
            {
                id: 'singapore-zoo',
                name: 'Singapore Zoo',
                city: 'Singapore',
                region: 'asia',
                category: 'zoo',
                ageGroup: ['infant', 'child', 'teen'],
                description: 'World-class zoo with natural habitats and amazing Night Safari experience',
                tags: ['Zoo', 'Safari', 'Educational', 'Night Tours'],
                rating: 4.7,
                lat: 1.4043, lng: 103.7930, icon: 'ü¶Å'
            },
            {
                id: 'bali-beaches',
                name: 'Bali Beaches',
                city: 'Bali, Indonesia',
                region: 'asia',
                category: 'beach',
                ageGroup: ['child', 'teen'],
                description: 'Crystal clear waters and golden sandy beaches with family-friendly resorts in tropical paradise',
                tags: ['Beaches', 'Resorts', 'Water Sports', 'Tropical'],
                rating: 4.5,
                lat: -8.4095, lng: 115.1889, icon: 'üèñÔ∏è'
            },
            {
                id: 'great-wall',
                name: 'Great Wall of China',
                city: 'Beijing, China',
                region: 'asia',
                category: 'cultural',
                ageGroup: ['child', 'teen'],
                description: 'One of the world\'s greatest wonders, offering breathtaking views and rich history',
                tags: ['Historical', 'UNESCO', 'Hiking', 'Culture'],
                rating: 4.6,
                lat: 40.4319, lng: 116.5704, icon: 'üèØ'
            },

            // Europe
            {
                id: 'disneyland-paris',
                name: 'Disneyland Paris',
                city: 'Paris, France',
                region: 'europe',
                category: 'theme-park',
                ageGroup: ['infant', 'child', 'teen'],
                description: 'Europe\'s only Disneyland with French flair and magical experiences for the whole family',
                tags: ['Disney', 'Theme Park', 'European Travel', 'Castles'],
                rating: 4.4,
                lat: 48.8720, lng: 2.7796, icon: 'üè∞'
            },
            {
                id: 'london-museums',
                name: 'London Museum District',
                city: 'London, UK',
                region: 'europe',
                category: 'museum',
                ageGroup: ['child', 'teen'],
                description: 'World-class museums including British Museum and Natural History Museum in education hub',
                tags: ['Museums', 'Education', 'History', 'Science'],
                rating: 4.8,
                lat: 51.4994, lng: -0.1759, icon: 'üèõÔ∏è'
            },
            {
                id: 'swiss-alps',
                name: 'Swiss Alps',
                city: 'Interlaken, Switzerland',
                region: 'europe',
                category: 'nature',
                ageGroup: ['child', 'teen'],
                description: 'Majestic Alpine mountains and crystal-clear lakes with scenic train journeys',
                tags: ['Mountains', 'Train Travel', 'Scenic Views', 'Hiking'],
                rating: 4.9,
                lat: 46.6863, lng: 7.8632, icon: 'üèîÔ∏è'
            },
            {
                id: 'iceland-geysers',
                name: 'Iceland Geysers',
                city: 'Reykjavik, Iceland',
                region: 'europe',
                category: 'nature',
                ageGroup: ['child', 'teen'],
                description: 'Mystical geysers, Northern Lights, and unique geological formations in nature\'s wonderland',
                tags: ['Geysers', 'Northern Lights', 'Natural Phenomena', 'Unique'],
                rating: 4.7,
                lat: 64.3078, lng: -20.2986, icon: 'üåã'
            },

            // Americas
            {
                id: 'disney-world',
                name: 'Walt Disney World',
                city: 'Orlando, USA',
                region: 'americas',
                category: 'theme-park',
                ageGroup: ['infant', 'child', 'teen'],
                description: 'The world\'s largest Disney resort with 4 theme parks and endless entertainment',
                tags: ['Disney', 'Theme Parks', 'Magic Kingdom', 'Massive Scale'],
                rating: 4.9,
                lat: 28.3772, lng: -81.5707, icon: 'üè∞'
            },
            {
                id: 'yellowstone',
                name: 'Yellowstone National Park',
                city: 'Wyoming, USA',
                region: 'americas',
                category: 'nature',
                ageGroup: ['child', 'teen'],
                description: 'World\'s first national park featuring geysers, hot springs, and wildlife observation',
                tags: ['National Park', 'Geysers', 'Wildlife', 'Camping'],
                rating: 4.8,
                lat: 44.4280, lng: -110.5885, icon: 'üêª'
            },
            {
                id: 'niagara-falls',
                name: 'Niagara Falls',
                city: 'Niagara, USA/Canada',
                region: 'americas',
                category: 'nature',
                ageGroup: ['infant', 'child', 'teen'],
                description: 'Spectacular waterfalls offering breathtaking views and boat tour experiences',
                tags: ['Waterfalls', 'Boat Tours', 'Natural Wonder', 'Spectacular'],
                rating: 4.6,
                lat: 43.0962, lng: -79.0377, icon: 'üíß'
            },
            {
                id: 'machu-picchu',
                name: 'Machu Picchu',
                city: 'Cusco, Peru',
                region: 'americas',
                category: 'cultural',
                ageGroup: ['teen'],
                description: 'Mysterious Inca ruins offering history and adventure in the Andes mountains',
                tags: ['Ruins', 'History', 'Adventure', 'Inca Civilization'],
                rating: 4.8,
                lat: -13.1631, lng: -72.5450, icon: 'üèõÔ∏è'
            },

            // Oceania
            {
                id: 'great-barrier-reef',
                name: 'Great Barrier Reef',
                city: 'Queensland, Australia',
                region: 'oceania',
                category: 'nature',
                ageGroup: ['child', 'teen'],
                description: 'World\'s largest coral reef system perfect for snorkeling and marine life exploration',
                tags: ['Coral Reef', 'Snorkeling', 'Marine Life', 'Conservation'],
                rating: 4.7,
                lat: -16.2839, lng: 145.7781, icon: 'üê†'
            },
            {
                id: 'sydney-harbour',
                name: 'Sydney Harbour',
                city: 'Sydney, Australia',
                region: 'oceania',
                category: 'city',
                ageGroup: ['infant', 'child', 'teen'],
                description: 'Iconic harbor featuring Opera House and Harbour Bridge with stunning cityscapes',
                tags: ['City Tourism', 'Opera House', 'Bridge', 'Harbor'],
                rating: 4.6,
                lat: -33.8568, lng: 151.2153, icon: 'üèõÔ∏è'
            },
            {
                id: 'rotorua',
                name: 'Rotorua',
                city: 'Rotorua, New Zealand',
                region: 'oceania',
                category: 'nature',
                ageGroup: ['child', 'teen'],
                description: 'Geothermal wonderland with Maori culture experiences in New Zealand',
                tags: ['Geothermal', 'Hot Springs', 'Maori Culture', 'Unique'],
                rating: 4.5,
                lat: -38.1368, lng: 176.2497, icon: 'üí®'
            },

            // Africa
            {
                id: 'serengeti',
                name: 'Serengeti National Park',
                city: 'Tanzania',
                region: 'africa',
                category: 'nature',
                ageGroup: ['child', 'teen'],
                description: 'Witness the Great Migration and African wildlife in their natural habitat through safari',
                tags: ['Safari', 'Wildlife', 'Great Migration', 'Africa'],
                rating: 4.9,
                lat: -2.3333, lng: 34.8333, icon: 'ü¶Å'
            },
            {
                id: 'pyramids-giza',
                name: 'Pyramids of Giza',
                city: 'Cairo, Egypt',
                region: 'africa',
                category: 'cultural',
                ageGroup: ['child', 'teen'],
                description: 'Ancient Egyptian monuments offering mysterious history and archaeological wonders',
                tags: ['Pyramids', 'Ancient Civilization', 'History', 'Sphinx'],
                rating: 4.4,
                lat: 29.9792, lng: 31.1342, icon: 'üî∫'
            },
            {
                id: 'cape-town',
                name: 'Cape Town',
                city: 'Cape Town, South Africa',
                region: 'africa',
                category: 'city',
                ageGroup: ['teen'],
                description: 'Beautiful city with Table Mountain and stunning coastlines, Africa\'s gem destination',
                tags: ['City', 'Mountains', 'Coastline', 'Wine'],
                rating: 4.5,
                lat: -33.9249, lng: 18.4241, icon: 'üèîÔ∏è'
            }
        ];

        let currentFilters = {
            region: 'all',
            category: 'all',
            age: 'all'
        };

        let markers = [];

        // Region map view settings
        const regionViews = {
            all: { center: [20, 0], zoom: 2 },
            asia: { center: [30, 120], zoom: 3 },
            europe: { center: [54, 15], zoom: 4 },
            americas: { center: [15, -90], zoom: 3 },
            oceania: { center: [-25, 145], zoom: 4 },
            africa: { center: [0, 20], zoom: 3 }
        };

        // Region name mapping
        const regionNames = {
            all: 'Worldwide',
            asia: 'Asia',
            europe: 'Europe',
            americas: 'Americas',
            oceania: 'Oceania',
            africa: 'Africa'
        };

        // Filter button events
        document.querySelectorAll('.region-btn, .filter-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const filterType = this.dataset.region ? 'region' : 
                                  this.dataset.category ? 'category' : 'age';
                const filterValue = this.dataset.region || this.dataset.category || this.dataset.age;
                
                // Deactivate other buttons of the same type
                const selector = filterType === 'region' ? '[data-region]' : 
                               filterType === 'category' ? '[data-category]' : '[data-age]';
                document.querySelectorAll(selector).forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                
                currentFilters[filterType] = filterValue;
                
                // Adjust map view when region changes
                if (filterType === 'region') {
                    const view = regionViews[filterValue];
                    map.setView(view.center, view.zoom);
                }
                
                updateDisplay();
            });
        });

        // Create custom marker function
        function createCustomMarker(place) {
            const markerElement = L.divIcon({
                className: 'custom-div-icon',
                html: `<div class="custom-marker ${place.category}" title="${place.name}">${place.icon}</div>`,
                iconSize: [35, 35],
                iconAnchor: [17, 35]
            });
            
            const marker = L.marker([place.lat, place.lng], { icon: markerElement })
                .bindPopup(`
                    <div style="min-width: 220px;">
                        <h4 style="margin: 0 0 4px 0; color: #333;">${place.name}</h4>
                        <p style="margin: 0 0 8px 0; font-size: 0.85rem; color: #888;">${place.city}</p>
                        <p style="margin: 0 0 8px 0; font-size: 0.9rem; color: #666;">${place.description}</p>
                        <div style="margin-bottom: 8px;">
                            ${place.tags.map(tag => `<span style="background: #f0f0f0; padding: 2px 6px; border-radius: 10px; font-size: 0.7rem; margin-right: 4px;">${tag}</span>`).join('')}
                        </div>
                        <div style="font-size: 0.8rem; color: #777;">
                            ‚≠ê ${place.rating} | ${getAgeGroupText(place.ageGroup)}
                        </div>
                    </div>
                `);
            
            marker.placeData = place;
            return marker;
        }

        // Add markers to map
        function addMarkersToMap(filteredPlaces) {
            // Remove existing markers
            markers.forEach(marker => map.removeLayer(marker));
            markers = [];

            // Add new markers
            filteredPlaces.forEach(place => {
                const marker = createCustomMarker(place);
                markers.push(marker);
                marker.addTo(map);
                
                // Marker click event
                marker.on('click', function() {
                    showPlaceInfo(place);
                });
            });
        }

        function updateDisplay() {
            const filteredPlaces = places.filter(place => {
                const regionMatch = currentFilters.region === 'all' || place.region === currentFilters.region;
                const categoryMatch = currentFilters.category === 'all' || place.category === currentFilters.category;
                const ageMatch = currentFilters.age === 'all' || place.ageGroup.includes(currentFilters.age);
                return regionMatch && categoryMatch && ageMatch;
            });

            // Update sidebar list
            updatePlacesList(filteredPlaces);
            
            // Update map markers
            addMarkersToMap(filteredPlaces);

            // Update stats
            updateStats(filteredPlaces.length);
        }

        function updatePlacesList(filteredPlaces) {
            const placesList = document.getElementById('placesList');
            placesList.innerHTML = filteredPlaces.map(place => `
                <div class="place-card" onclick="focusOnPlace('${place.id}')">
                    <h4>${place.name}</h4>
                    <div class="place-location">${place.city}</div>
                    <div class="place-tags">
                        ${place.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                    </div>
                    <div class="place-info">
                        ‚≠ê ${place.rating} | ${getAgeGroupText(place.ageGroup)}
                    </div>
                </div>
            `).join('');
        }

        function focusOnPlace(placeId) {
            const place = places.find(p => p.id === placeId);
            if (place) {
                // Move map center to the place
                map.setView([place.lat, place.lng], 8);
                
                // Open corresponding marker popup
                const marker = markers.find(m => m.placeData && m.placeData.id === placeId);
                if (marker) {
                    marker.openPopup();
                }
                
                showPlaceInfo(place);
            }
        }

        function showPlaceInfo(place) {
            const floatingInfo = document.getElementById('floatingInfo');
            const infoTitle = document.getElementById('infoTitle');
            const infoLocation = document.getElementById('infoLocation');
            const infoDescription = document.getElementById('infoDescription');
            const infoTags = document.getElementById('infoTags');

            infoTitle.textContent = place.name;
            infoLocation.textContent = place.city;
            infoDescription.textContent = place.description;
            infoTags.innerHTML = place.tags.map(tag => `<span class="tag">${tag}</span>`).join('');

            floatingInfo.style.display = 'block';

            // Auto hide after 5 seconds
            setTimeout(() => {
                floatingInfo.style.display = 'none';
            }, 5000);
        }

        function updateStats(visibleCount) {
            document.getElementById('visiblePlaces').textContent = visibleCount;
            document.getElementById('activeRegion').textContent = regionNames[currentFilters.region];
        }

        function getAgeGroupText(ageGroups) {
            const ageTexts = {
                'infant': 'Toddlers',
                'child': 'Children', 
                